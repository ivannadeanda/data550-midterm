---
title: "DATA 550: Midterm Report"
subtitle: NBA Player Stats
author: Ivanna de Anda, Danielle Hawk, Emily Wilhelm
date: "`r Sys.Date()`"
output: html_document
---

```{r, read-config, include = FALSE}
config_list <- config::get()
```

```{r load-packages, eval = config_list$production}
library(ggplot2)
library(dplyr)
library(gt)
library(gtExtras)
```

```{r here, eval = config_list$production}

here::i_am("midterm_report.Rmd")

```

```{r, load-youngest-and-oldest-players, eval = config_list$production}

grouped_ages <- readRDS(
  here::here("output/grouped_ages.rds")
)

```
# Youngest and Oldest Player Stats
```{r players-table, eval = config_list$production}
grouped_ages %>%
  select(
    age_group,
    Player = Player,
    Age = Age,
    "Ranking" = Rk, 
    "2 Pt. Shots" = X2P,
    "2 Pt. Shot Attempts" = X2PA, 
    "3 Pt. Shots" = X3P,
    "3 Pt. Shot Attempts" = X3PA
  ) %>% 
  arrange(Age) %>%
  gt() %>%
  tab_header(
    title = md("**Top 5 Youngest and Oldest Player Stats**"),
    subtitle = "2025 NBA Data"
  ) %>%
  tab_style(
    style = cell_text(color = "#3B9CFF"),
    locations = cells_body(
      columns = Player,
      rows = age_group == "youngest5"
    )
  ) %>%
  tab_style(
    style = cell_text(color = "darkblue"),
    locations = cells_body(
      columns = Player,
      rows = age_group == "oldest5"
    )
  ) %>%
  cols_hide(columns = age_group) %>% 
  gt_theme_espn()

```

# Free Throw Stats by Team
```{r freethrow-figure, eval = config_list$production}

knitr::include_graphics(
  here::here("output/nba_freethrows.png")
)

```

